

<!DOCTYPE html>
<html class="writer-html5" lang="ZH-CN" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>078 被当众表扬该怎么回应 &mdash; lzk365 0.1 文档</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/translations.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="079 探望病人时该说什么好？" href="c08_09.html" />
    <link rel="prev" title="077 说请客又让你付钱怎么办" href="c08_07.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> lzk365
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../preface.html">前言</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p01.html">第一章：1-10</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p02.html">第二章：11-20</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p03.html">第三章：21-30</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p04.html">第四章：31-40</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p05.html">第五章：41-50</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p06.html">第六章：51-60</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p07.html">第七章：61-70</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../chapters/p08.html">第八章：71-80</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="c08_01.html">071 跟领导谈话3大注意事项</a></li>
<li class="toctree-l2"><a class="reference internal" href="c08_02.html">072 坏消息预防针铺垫法</a></li>
<li class="toctree-l2"><a class="reference internal" href="c08_03.html">073 朋友聊天注意 3点事项</a></li>
<li class="toctree-l2"><a class="reference internal" href="c08_04.html">074 回应领导“你辛苦啦”</a></li>
<li class="toctree-l2"><a class="reference internal" href="c08_05.html">075 回复领导对别人的看法</a></li>
<li class="toctree-l2"><a class="reference internal" href="c08_06.html">076 跟领导出差聊天注意事项</a></li>
<li class="toctree-l2"><a class="reference internal" href="c08_07.html">077 说请客又让你付钱怎么办</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">078 被当众表扬该怎么回应</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">1. 查询软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">2. 下载软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id4">3. 安装软件包</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pypi">3.1 只从本地安装，而不从 pypi 安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">3.2 限定版本进行软件包安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">3.3 限制不使用二进制包安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">3.4 指定代理服务器安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">3.5 安装用户私有软件包</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id9">3.6 延长超时时间</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id10">4. 卸载软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">5. 升级软件包</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">6. 配置文件</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="c08_09.html">079 探望病人时该说什么好？</a></li>
<li class="toctree-l2"><a class="reference internal" href="c08_10.html">080 和亲戚相处的4 条原则</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p09.html">第九章：81-90</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p10.html">第十章：91-100</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p11.html">第十一章：101-110</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p12.html">第十二章：111-120</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p13.html">第十三章：121-130</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p14.html">第十四章：131-140</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p15.html">第十五章：141-150</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p16.html">第十六章：151-160</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p17.html">第十七章：161-170</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p18.html">第十八章：171-180</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p19.html">第十九章：181-190</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p20.html">第二十章：191-200</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p21.html">第二十一章：201-210</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p22.html">第二十二章：211-220</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p23.html">第二十三章：221-230</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p24.html">第二十四章：231-240</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p25.html">第二十五章：241-250</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p26.html">第二十六章：251-260</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p27.html">第二十七章：261-270</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p28.html">第二十八章：271-280</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p29.html">第二十九章：281-290</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p30.html">第三十章：291-300</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p31.html">第三十一章：301-310</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p32.html">第三十二章：311-320</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p33.html">第三十三章：321-330</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p34.html">第三十四章：331-340</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p35.html">第三十五章：341-350</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p36.html">第三十六章：351-360</a></li>
<li class="toctree-l1"><a class="reference internal" href="../chapters/p37.html">第三十六章：361-365</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aboutme.html">关于作者</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roadmap.html">Roadmap</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">lzk365</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../chapters/p08.html">第八章：71-80</a> &raquo;</li>
        
      <li>078 被当众表扬该怎么回应</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/c08/c08_08.rst.txt" rel="nofollow"> 查看页面源码</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="id1">
<h1>078 被当众表扬该怎么回应<a class="headerlink" href="#id1" title="此标题的永久链接">¶</a></h1>
<p>所有的 Python 开发者都清楚，Python
之所以如此受欢迎，能够在众多高级语言中，脱颖而出，除了语法简单，上手容易之外，更多还要归功于
Python 生态的完备，有数以万计的 Python 爱好者愿意以 Python
为基础封装出各种有利于开发的第三方工具包。</p>
<p>这才使用我们能够以最快的速度开发出一个满足基本需要的项目，而不是每次都重复造轮子。</p>
<p>Python
从1991年诞生到现在，已经过去28个年头了，这其间产生了数以万计的第三方包，且每个包都会不断更新，会有越来越多的版本。</p>
<p>当你在一个复杂的项目环境中，如果没有一个有效的依赖包管理方案，项目的维护将会是一个大问题。</p>
<p>pip 是官方推荐的包管理工具，在大多数开发者眼里，pip 几乎是 Python
的标配。</p>
<p>当然也有其他的包管理工具</p>
<ul class="simple">
<li><p><strong>distutils</strong>：仅用于打包和安装，严格来讲不算是包管理工具</p></li>
<li><p><strong>setuptools</strong>：distutils的增强版，扩展了distutils，提供更多的功能，引入包依赖的管理，easy_install就是它的一个命令行工具，引入了
egg 的文件格式。</p></li>
<li><p><strong>Pipenv</strong>：一个集依赖包管理（pip）及虚拟环境管理（virtualenv）的工具</p></li>
<li><p>还有其他的，这里不一一列出。</p></li>
</ul>
<p>今天的主角是 pip
，大家肯定不会陌生。但我相信不少人，只是熟悉几个常用的用法，而对于其他几个低频且实用的用法，却知之甚少，这两天，我查阅官方文档，把这些用法整理了一下，应该是网络上比较全的介绍。</p>
<section id="id2">
<h2>1. 查询软件包<a class="headerlink" href="#id2" title="此标题的永久链接">¶</a></h2>
<p>查询当前环境安装的所有软件包</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>list
</pre></div>
</div>
<p>查询 pypi 上含有某名字的包</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>search<span class="w"> </span>pkg
</pre></div>
</div>
<p>查询当前环境中可升级的包</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>list<span class="w"> </span>--outdated
</pre></div>
</div>
<p>查询一个包的详细内容</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>show<span class="w"> </span>pkg
</pre></div>
</div>
</section>
<section id="id3">
<h2>2. 下载软件包<a class="headerlink" href="#id3" title="此标题的永久链接">¶</a></h2>
<p>在不安装软件包的情况下下载软件包到本地</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>download<span class="w"> </span>--destination-directory<span class="w"> </span>/local/wheels<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</pre></div>
</div>
<p>下载完，总归是要安装的，可以指定这个目录中安装软件包，而不从 pypi
上安装。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--no-index<span class="w"> </span>--find-links<span class="o">=</span>/local/wheels<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</pre></div>
</div>
<p>当然你也从你下载的包中，自己构建生成 wheel 文件</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>wheel
$<span class="w"> </span>pip<span class="w"> </span>wheel<span class="w"> </span>--wheel-dir<span class="o">=</span>/local/wheels<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</pre></div>
</div>
</section>
<section id="id4">
<h2>3. 安装软件包<a class="headerlink" href="#id4" title="此标题的永久链接">¶</a></h2>
<p>使用 <code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">&lt;pkg&gt;</span></code> 可以很方便地从 pypi 上搜索下载并安装 python
包。</p>
<p>如下所示</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>requests
</pre></div>
</div>
<p>这是安装包的基本格式，我们也可以为其添加更多参数来实现不同的效果。</p>
<section id="pypi">
<h3>3.1 只从本地安装，而不从 pypi 安装<a class="headerlink" href="#pypi" title="此标题的永久链接">¶</a></h3>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># 前提你得保证你已经下载 pkg 包到 /local/wheels 目录下</span>
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--no-index<span class="w"> </span>--find-links<span class="o">=</span>/local/wheels<span class="w"> </span>pkg
</pre></div>
</div>
</section>
<section id="id5">
<h3>3.2 限定版本进行软件包安装<a class="headerlink" href="#id5" title="此标题的永久链接">¶</a></h3>
<p>以下三种，对单个 python 包的版本进行了约束</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># 所安装的包的版本为 2.1.2</span>
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span><span class="nv">pkg</span><span class="o">==</span><span class="m">2</span>.1.2

<span class="c1"># 所安装的包必须大于等于 2.1.2</span>
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pkg&gt;<span class="o">=</span><span class="m">2</span>.1.2

<span class="c1"># 所安装的包必须小于等于 2.1.2</span>
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pkg&lt;<span class="o">=</span><span class="m">2</span>.1.2
</pre></div>
</div>
<p>以下命令用于管理/控制整个 python 环境的包版本</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># 导出依赖包列表</span>
pip<span class="w"> </span>freeze<span class="w"> </span>&gt;requirements.txt

<span class="c1"># 从依赖包列表中安装</span>
pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt

<span class="c1"># 确保当前环境软件包的版本(并不确保安装)</span>
pip<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>constraints.txt
</pre></div>
</div>
</section>
<section id="id6">
<h3>3.3 限制不使用二进制包安装<a class="headerlink" href="#id6" title="此标题的永久链接">¶</a></h3>
<p>由于默认情况下，wheel 包的平台是运行 pip download 命令
的平台，所以可能出现平台不适配的情况。</p>
<p>比如在 MacOS 系统下得到的 pymongo-2.8-cp27-none-macosx_10_10_intel.whl
就不能在 linux_x86_64 安装。</p>
<p>使用下面这条命令下载的是 tar.gz 的包，可以直接使用 pip install 安装。</p>
<p>比 wheel 包，这种包在安装时会进行编译，所以花费的时间会长一些。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># 下载非二进制的包</span>
$<span class="w"> </span>pip<span class="w"> </span>download<span class="w"> </span>--no-binary<span class="o">=</span>:all:<span class="w"> </span>pkg

<span class="c1">#　安装非二进制的包</span>
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>pkg<span class="w"> </span>--no-binary
</pre></div>
</div>
</section>
<section id="id7">
<h3>3.4 指定代理服务器安装<a class="headerlink" href="#id7" title="此标题的永久链接">¶</a></h3>
<p>当你身处在一个内网环境中时，无法直接连接公网。这时候你使用<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code>
安装包，就会失败。</p>
<p>面对这种情况，可以有两种方法：</p>
<ol class="arabic simple">
<li><p>下载离线包拷贝到内网机器中安装</p></li>
<li><p>使用代理服务器转发请求</p></li>
</ol>
<p>第一种方法，虽说可行，但有相当多的弊端</p>
<ul class="simple">
<li><p>步骤繁杂，耗时耗力</p></li>
<li><p>无法处理包的依赖问题</p></li>
</ul>
<p>这里重点来介绍，第二种方法：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--proxy<span class="w"> </span><span class="o">[</span>user:passwd@<span class="o">]</span>http_server_ip:port<span class="w"> </span>pkg
</pre></div>
</div>
<p>每次安装包就发输入长长的参数，未免有些麻烦，为此你可以将其写入配置文件中：<code class="docutils literal notranslate"><span class="pre">$HOME/.config/pip/pip.conf</span></code></p>
<p>对于这个路径，说明几点</p>
<ul class="simple">
<li><p>不同的操作系统，路径各不相同</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Linux/Unix:</span>
/etc/pip.conf
~/.pip/pip.conf
~/.config/pip/pip.conf

<span class="c1"># Mac OSX:</span>
~/Library/Application<span class="w"> </span>Support/pip/pip.conf
~/.pip/pip.conf
/Library/Application<span class="w"> </span>Support/pip/pip.conf

<span class="c1"># Windows:</span>
%APPDATA%<span class="se">\p</span>ip<span class="se">\p</span>ip.ini
%HOME%<span class="se">\p</span>ip<span class="se">\p</span>ip.ini
C:<span class="se">\D</span>ocuments<span class="w"> </span>and<span class="w"> </span>Settings<span class="se">\A</span>ll<span class="w"> </span>Users<span class="se">\A</span>pplication<span class="w"> </span>Data<span class="se">\P</span>yPA<span class="se">\p</span>ip<span class="se">\p</span>ip.conf<span class="w"> </span><span class="o">(</span>Windows<span class="w"> </span>XP<span class="o">)</span>
C:<span class="se">\P</span>rogramData<span class="se">\P</span>yPA<span class="se">\p</span>ip<span class="se">\p</span>ip.conf<span class="w"> </span><span class="o">(</span>Windows<span class="w"> </span>7及以后<span class="o">)</span>
</pre></div>
</div>
<ul class="simple">
<li><p>若在你的机子上没有此文件，则自行创建即可</p></li>
</ul>
<p>如何配置，这边给个样例：</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[global]</span>
<span class="na">index-url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">http://mirrors.aliyun.com/pypi/simple/</span>

<span class="c1"># 替换出自己的代理地址，格式为[user:passwd@]proxy.server:port</span>
<span class="na">proxy</span><span class="o">=</span><span class="s">http://xxx.xxx.xxx.xxx:8080</span>

<span class="k">[install]</span>
<span class="c1"># 信任阿里云的镜像源，否则会有警告</span>
<span class="na">trusted-host</span><span class="o">=</span><span class="s">mirrors.aliyun.com</span>
</pre></div>
</div>
</section>
<section id="id8">
<h3>3.5 安装用户私有软件包<a class="headerlink" href="#id8" title="此标题的永久链接">¶</a></h3>
<p>很多人可能还不清楚，python 的安装包是可以用户隔离的。</p>
<p>如果你拥有管理员权限，你可以将包安装在全局环境中。在全局环境中的这个包可被该机器上的所有拥有管理员权限的用户使用。</p>
<p>如果一台机器上的使用者不只一样，自私地将在全局环境中安装或者升级某个包，是不负责任且危险的做法。</p>
<p>面对这种情况，我们就想能否安装单独为我所用的包呢？</p>
<p>庆幸的是，还真有。</p>
<p>我能想到的有两种方法：</p>
<ol class="arabic simple">
<li><p>使用虚拟环境</p></li>
<li><p>将包安装在用户的环境中</p></li>
</ol>
<p>虚拟环境，之前写过几篇文章，这里不再展开讲。</p>
<p>今天的重点是第二种方法，教你如何安装用户私有的包？</p>
<p>命令也很简单，只要加上 <code class="docutils literal notranslate"><span class="pre">--user</span></code> 参数，pip 就会将其安装在当前用户的
<code class="docutils literal notranslate"><span class="pre">~/.local/lib/python3.x/site-packages</span></code> 下，而其他用户的 python
则不会受影响。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>--user<span class="w"> </span>pkg
</pre></div>
</div>
<p>来举个例子</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># 在全局环境中未安装 requests</span>
<span class="o">[</span>root@localhost<span class="w"> </span>~<span class="o">]</span><span class="c1"># pip list | grep requests</span>
<span class="o">[</span>root@localhost<span class="w"> </span>~<span class="o">]</span><span class="c1"># su - wangbm</span>
<span class="o">[</span>root@localhost<span class="w"> </span>~<span class="o">]</span><span class="c1">#</span>

<span class="c1"># 由于用户环境继承自全局环境，这里也未安装</span>
<span class="o">[</span>wangbm@localhost<span class="w"> </span>~<span class="o">]</span><span class="c1"># pip list | grep requests</span>
<span class="o">[</span>wangbm@localhost<span class="w"> </span>~<span class="o">]</span><span class="c1"># pip install --user requests</span>
<span class="o">[</span>wangbm@localhost<span class="w"> </span>~<span class="o">]</span><span class="c1"># pip list | grep requests</span>
requests<span class="w"> </span><span class="o">(</span><span class="m">2</span>.22.0<span class="o">)</span>
<span class="o">[</span>wangbm@localhost<span class="w"> </span>~<span class="o">]</span><span class="c1">#</span>

<span class="c1"># 从 Location 属性可发现 requests 只安装在当前用户环境中</span>
<span class="o">[</span>wangbm@ws_compute01<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>pip<span class="w"> </span>show<span class="w"> </span>requests
---
Metadata-Version:<span class="w"> </span><span class="m">2</span>.1
Name:<span class="w"> </span>requests
Version:<span class="w"> </span><span class="m">2</span>.22.0
Summary:<span class="w"> </span>Python<span class="w"> </span>HTTP<span class="w"> </span><span class="k">for</span><span class="w"> </span>Humans.
Home-page:<span class="w"> </span>http://python-requests.org
Author:<span class="w"> </span>Kenneth<span class="w"> </span>Reitz
Author-email:<span class="w"> </span>me@kennethreitz.org
Installer:<span class="w"> </span>pip
License:<span class="w"> </span>Apache<span class="w"> </span><span class="m">2</span>.0
Location:<span class="w"> </span>/home/wangbm/.local/lib/python2.7/site-packages
<span class="o">[</span>wangbm@localhost<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span><span class="nb">exit</span>
<span class="nb">logout</span>

<span class="c1"># 退出 wangbm 用户，在 root 用户环境中发现 requests 未安装</span>
<span class="o">[</span>root@localhost<span class="w"> </span>~<span class="o">]</span>$<span class="w"> </span>pip<span class="w"> </span>list<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>requests
<span class="o">[</span>root@localhost<span class="w"> </span>~<span class="o">]</span>$
</pre></div>
</div>
<p>当你身处个人用户环境中，python
导包时会先检索当前用户环境中是否已安装这个包，已安装则优先使用，未安装则使用全局环境中的包。</p>
<p>验证如下：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sys</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
<span class="go">[&#39;&#39;,</span>
<span class="go"> &#39;/usr/lib64/python27.zip&#39;,</span>
<span class="go"> &#39;/usr/lib64/python2.7&#39;,</span>
<span class="go"> &#39;/usr/lib64/python2.7/plat-linux2&#39;,</span>
<span class="go"> &#39;/usr/lib64/python2.7/lib-tk&#39;,</span>
<span class="go"> &#39;/usr/lib64/python2.7/lib-old&#39;,</span>
<span class="go"> &#39;/usr/lib64/python2.7/lib-dynload&#39;,</span>
<span class="go"> &#39;/home/wangbm/.local/lib/python2.7/site-packages&#39;,</span>
<span class="go"> &#39;/usr/lib64/python2.7/site-packages&#39;,</span>
<span class="go"> &#39;/usr/lib64/python2.7/site-packages/gtk-2.0&#39;,</span>
<span class="go"> &#39;/usr/lib/python2.7/site-packages&#39;,</span>
<span class="go"> &#39;/usr/lib/python2.7/site-packages/pip-18.1-py2.7.egg&#39;,</span>
<span class="go"> &#39;/usr/lib/python2.7/site-packages/lockfile-0.12.2-py2.7.egg&#39;]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</section>
<section id="id9">
<h3>3.6 延长超时时间<a class="headerlink" href="#id9" title="此标题的永久链接">¶</a></h3>
<p>若网络情况不是很好，在安装某些包时经常会因为 ReadTimeout 而失败。</p>
<p>对于这种情况，一般重试几次就好了。</p>
<p>但是这样难免有些麻烦，有没有更好的解决方法呢？</p>
<p>有的，可以通过延长超时时间。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--default-timeout<span class="o">=</span><span class="m">100</span><span class="w"> </span>&lt;packages&gt;
</pre></div>
</div>
</section>
</section>
<section id="id10">
<h2>4. 卸载软件包<a class="headerlink" href="#id10" title="此标题的永久链接">¶</a></h2>
<p>就一条命令，不再赘述</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>uninstall<span class="w"> </span>pkg
</pre></div>
</div>
</section>
<section id="id11">
<h2>5. 升级软件包<a class="headerlink" href="#id11" title="此标题的永久链接">¶</a></h2>
<p>想要对现有的 python 进行升级，其本质上也是先从 pypi
上下载最新版本的包，再对其进行安装。所以升级也是使用
<code class="docutils literal notranslate"><span class="pre">pip</span> <span class="pre">install</span></code>，只不过要加一个参数 <code class="docutils literal notranslate"><span class="pre">--upgrade</span></code>。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pkg
</pre></div>
</div>
<p>在升级的时候，其实还有一个不怎么用到的选项
<code class="docutils literal notranslate"><span class="pre">--upgrade-strategy</span></code>，它是用来指定升级策略。</p>
<p>它的可选项只有两个：</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">eager</span></code> ：升级全部依赖包</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">only-if-need</span></code>：只有当旧版本不能适配新的父依赖包时，才会升级。</p></li>
</ul>
<p>在 pip 10.0 版本之后，这个选项的默认值是
<code class="docutils literal notranslate"><span class="pre">only-if-need</span></code>，因此如下两种写法是一互致的。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pkg1
$<span class="w"> </span>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pkg1<span class="w"> </span>--upgrade-strategy<span class="w"> </span>only-if-need
</pre></div>
</div>
</section>
<section id="id12">
<h2>6. 配置文件<a class="headerlink" href="#id12" title="此标题的永久链接">¶</a></h2>
<p>由于在使用 pip 安装一些包时，默认会使用 pip
的官方源，所以经常会报网络超时失败。</p>
<p>常用的解决办法是，在安装包时，使用 <code class="docutils literal notranslate"><span class="pre">-i</span></code>
参数指定一个国内的镜像源。但是每次指定就很麻烦呀，还要打超长的一串字母。</p>
<p>这时候，其实可以将这个源写进 pip
的配置文件里。以后安装的时候，就默认从你配置的这个 源里安装了。</p>
<p>那怎么配置呢？文件文件在哪？</p>
<p>使用<code class="docutils literal notranslate"><span class="pre">win+r</span></code> 输入 <code class="docutils literal notranslate"><span class="pre">%APPDATA%</span></code> 进入用户资料文件夹，查看有没有一个
pip 的文件夹，若没有则创建之。</p>
<p>然后进入这个 文件夹，新建一个 <code class="docutils literal notranslate"><span class="pre">pip.ini</span></code> 的文件，内容如下</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[global]</span>
<span class="na">time-out</span><span class="o">=</span><span class="s">60</span>
<span class="na">index-url</span><span class="o">=</span><span class="s">https://pypi.tuna.tsinghua.edu.cn/simple/</span>
<span class="k">[install]</span>
<span class="na">trusted-host</span><span class="o">=</span><span class="s">tsinghua.edu.cn</span>
</pre></div>
</div>
<p>以上几乎包含了 pip 的所有常用使用场景，为了方便，我将其整理成一张表格。</p>
<img alt="http://image.iswbm.com/20191105200041.png" src="http://image.iswbm.com/20191105200041.png" />
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="c08_09.html" class="btn btn-neutral float-right" title="079 探望病人时该说什么好？" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="c08_07.html" class="btn btn-neutral float-left" title="077 说请客又让你付钱怎么办" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; 版权所有 2023, 365堂说话之道 教你学说话口才训练 卢战卡.

    </p>
  </div>
    
    
    
    利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    
    由 <a href="https://readthedocs.org">Read the Docs</a>开发. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>